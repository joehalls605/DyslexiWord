<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dyslexia</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
    <div id="app" class="p-10 flex flex-col items-center h-screen text-center">
        <div class="pb-8">
            <h1 class="text-4xl font-bold">Dyslexi Word</h1>
            <p class="pt-4 text-xl">Let's put your spelling skills to the test with some frequently misspelled words.</p>
        </div>
   
        <div class="text-xl pb-8 border-4 w-40">
            <audio id="myAudio">
                <source src="./sounds/acceptable.mp3">
            </audio>
            <button onclick="playSound()">Play Sound</button>
        </div>
    
      
        <div>
            <input type="text" id="text_input" placeholder="Start typing..." value="" class="text-xl border-4 h-20 m-5 p-4">
        </div>
        
        <div>
            <button id="submitButton" class="text-xl pb-8 border-4 w-40 p-4" >Submit</button>
            <p id="answerOutput" class="text-xl pb-8 w-40 p-4"></p>
        </div>
    
     
    </div>

    <script>

// Define wordData
const wordData = [
    {_id: "1", word: "acceptable", sound: "./sounds/acceptable.mp3"},
    {_id: "2", word: "accommodate", sound: "./sounds/accommodate.mp3"},
    {_id: "3", word: "drunkenness", sound: "./sounds/drunkenness.mp3"},
    {_id: "4", word: "vicious", sound: "./sounds/vicious.mp3"},
    {_id: "5", word: "acquire", sound: "./sounds/acquire.mp3"},
    {_id: "5", word: "atheist", sound: "./sounds/atheist.mp3"},
    {_id: "5", word: "exhilarate", sound: "./sounds/exhilarate.mp3"},
    {_id: "5", word: "mischievous", sound: "./sounds/mischievous.mp3"},
    {_id: "5", word: "parliament", sound: "./sounds/parliament.mp3"},
    {_id: "5", word: "noticeable", sound: "./sounds/noticeable.mp3"},
    {_id: "5", word: "questionnaire", sound: "./sounds/questionnaire.mp3"},

];


let randomWord;

randomiseWord();


function randomiseWord(){
    // Generating a random index
    const randomIndex = Math.floor(Math.random() * wordData.length);

    // Retrieving a random word from the wordData array using the random index
    randomWord = wordData[randomIndex].word;

    const audioSrc = `./sounds/${randomWord}.mp3`;
    console.log(randomWord);
    const audioElement = document.getElementById("myAudio");
    audioElement.setAttribute("src", audioSrc);
}


// Define the functions
function validateWordInput() {
    const text_input_element = document.getElementById("text_input");
    const text_input_lowercase = text_input_element.value.toLowerCase();
    console.log(text_input_lowercase);
    const appDivElement = document.getElementById("app");
    const answerOutput = document.getElementById("answerOutput");


    if(text_input_lowercase === randomWord){
    answerOutput.textContent = "Correct";
    answerOutput.classList.add("bg-green-500");


    }
    else{
    answerOutput.textContent = "Incorrect";
    answerOutput.classList.add("bg-red-500");
    }
    randomiseWord();
}

function playSound() {
    var audio = document.getElementById("myAudio");
    audio.play();
}

const btnElement = document.getElementById("submitButton");
btnElement.addEventListener("click", validateWordInput);


    </script>
</body>
</html>